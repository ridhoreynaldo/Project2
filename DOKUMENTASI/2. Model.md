丘뙖잺Ketentuan Model dan Migrations (Database Design dan Data Modeling)
九PascalCase untuk Model dan snake_case untuk Table
九Singular(tunggal) untuk Model dan Plural untuk Table(jamak)

游php artisan make:model Attribute
    public $timestamps = false; //拘勇 Matikan timestamps karna tidak ada Tablenya di migrations
    protected $table = 'attributes'; //拘勇 Model Attribut maka table attributs (Optional)
    protected $fillable = [
        'name',
    ];
    public function alternatives() //拘勇 nama Method Plural menuju Model Singular(...Many)
    {
        return $this->hasMany(Alternative::class, 'attribute_id'); //拘勇 Relasi: Attribute memiliki banyak Alternative
    }

游php artisan make:model Alternative
    public $timestamps = false;
    protected $fillable = [
        'name',
        'attribute_id',
    ];
    public function attribute() //拘勇 nama Method Singular menuju Model Singular(...仇Tidak ada Many)
    {
        return $this->belongsTo(Attribute::class, 'attribute_id'); //拘勇 Relasi many-to-one: Alternative dimiliki oleh satu Attribute
    }
    public function criteria()
    {
        return $this->belongsToMany(Criterion::class, 'alternative_criterion')
        ->withPivot(['weight']); //拘勇 Relasi many-to-many: Alternative terhubung ke banyak Criterion melalui tabel pivot
    }
    public function alternativeCriteria()
    {
        return $this->hasMany(AlternativeCriterion::class, 'alternative_id');//拘勇 Alternative memiliki banyak entri di tabel pivot
    }

游php artisan make:model Criterion
    protected $table = 'criteria'; //拘勇 karena plural dari criterion adalah criteria
    public $timestamps = false;
    protected $fillable = [
        'name',
        'type',
        'weight',
    ];
    public function subCriteria()
    {
        return $this->hasMany(SubCriterion::class, 'criterion_id'); //拘勇 Criterion memiliki banyak SubCriterion
    }
    public function alternatives()
    {
        return $this->belongsToMany(Alternative::class, 'alternative_criterion')
                    ->withPivot('weight'); //拘勇 Criterion terhubung ke banyak Alternative via tabel pivot
    }
    public function alternativeCriteria()
    {
        return $this->hasMany(AlternativeCriterion::class, 'criterion_id'); //拘勇 Criterion memiliki banyak entri pada tabel pivot
    }

游php artisan make:model SubCriterion
    public $timestamps = false;
    protected $fillable = [
        'name',
        'weight',
        'criterion_id',
    ];
    public function criterion()
    {
        return $this->belongsTo(Criterion::class, 'criterion_id'); //拘勇 SubCriterion milik satu Criterion
    }

游php artisan make:model AlternativeCriterion
    public $timestamps = false;
    protected $fillable = [
        'alternative_id',
        'criterion_id',
        'weight',
    ];
    public function alternative()
    {
        return $this->belongsTo(Alternative::class, 'alternative_id'); //拘勇 AlternatifCriterion milik satu Alternative
    }
    public function criterion()
    {
        return $this->belongsTo(Criterion::class, 'criterion_id'); //拘勇 AlternativeCriteriaon milik satu Criterion
    }

游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游릴游늷

游php artisan make:model Role
    public $timestamps = false;
    protected $fillable = [
        'name',
    ];
    public function users()
    {
        return $this->hasMany(User::class, 'role_id'); //拘勇 Role memiliki banyak User
    }

游php artisan make:model User
    use HasFactory; //拘勇 Factory, Dummy, Seeder
    protected $fillable = [
        'name',
        'email',
        'password',
        'role_id',
    ];
    protected $hidden = [
        'password',
        'remember_token',
    ];
    protected $casts = [
        'email_verified_at' => 'datetime',
    ];
    public function role()
    {
        return $this->belongsTo(Role::class, 'role_id'); //拘勇 User memiliki satu Role
    }
    public function profile()
    {
        return $this->hasOne(Profile::class, 'user_id'); //拘勇 User memiliki satu Profile
    }
    //Optional Mutator (bcrypt)
    //DRY (Don't Repeat Yourself)
    public function setPasswordAttribute($value)
    {
        $this->attributes['password'] = strlen($value) === 60 && preg_match('/^\$2y\$/', $value)
            ? $value
            : Hash::make($value); //拘勇 Hash Password Dari Form,Seeder,dll(bcrypt)
    }
    public function setNameAttribute($value) //拘勇뀴utator: otomatis enkripsi saat disimpan
    {
        $this->attributes['name'] = Crypt::encrypt($value);
    }
    public function getNameAttribute($value) //拘勇뀨ccessor: otomatis dekripsi saat diambil
    {
        try {
            return Crypt::decrypt($value);
        } catch (\Exception $e) {
            return $value;
        }
    }

游php artisan make:model Profile
public $timestamps = false;
    protected $fillable = [
        'user_id',
        'gender',
        'birth_date',
        'phone_number',
        'address',
        'photo',
    ];
    public function user()
    {
        return $this->belongsTo(User::class); //拘勇 Profile dimiliki oleh satu User
    }
    public function hobbies()
    {
        return $this->belongsToMany(Hobby::class, 'hobby_profile', 'profile_id', 'hobby_id'); // 拘勇 Profile terhubung ke banyak Hobby via tabel pivot
    }

游php artisan make:model Hobby
    public $timestamps = false;
    protected $fillable = ['name'];
    public function profiles()
    {
        return $this->belongsToMany(Profile::class, 'hobby_profile', 'hobby_id', 'profile_id'); // 拘勇 Hobby terhubung ke banyak Profile via tabel pivot
    }

游php artisan make:model HobbyProfile
    public $timestamps = false;
    protected $fillable = ['profile_id', 'hobby_id'];
    public function profile()
    {
        return $this->belongsTo(Profile::class); // 拘勇 HobbyProfile milik satu Profile
    }
    public function hobby()
    {
        return $this->belongsTo(Hobby::class); // 拘勇 HobbyProfile milik satu Hobby
    }